
# AUTOMATICALLY GENERATED
# DO NOT EDIT THIS FILE DIRECTLY, USE /templates/conf/fluent.conf.erb

@include kubernetes.conf

<match **>
  @type copy
  <store>
    @type kinesis_streams
    @id out_kinesis_streams
    region "#{ENV['FLUENT_KINESIS_STREAMS_REGION'] || nil}"
    stream_name "#{ENV['FLUENT_KINESIS_STREAMS_STREAM_NAME']}"
    aws_key_id "#{ENV['FLUENT_KINESIS_STREAMS_AWS_KEY_ID']}"
    aws_sec_key "#{ENV['FLUENT_KINESIS_STREAMS_AWS_SEC_KEY']}"
    flush_interval 1
    buffer_chunk_limit 1m
    try_flush_interval 0.1
    queued_chunk_flush_interval 0.01
    num_threads 15
  </store>
  <store>
    @type elasticsearch
    @id out_es
    log_level info
    include_tag_key true
    host "#{ENV['FLUENT_ELASTICSEARCH_HOST']}"
    port "#{ENV['FLUENT_ELASTICSEARCH_PORT']}"
    scheme "#{ENV['FLUENT_ELASTICSEARCH_SCHEME'] || 'http'}"
    ssl_verify "#{ENV['FLUENT_ELASTICSEARCH_SSL_VERIFY'] || 'true'}"
    user "#{ENV['FLUENT_ELASTICSEARCH_USER']}"
    password "#{ENV['FLUENT_ELASTICSEARCH_PASSWORD']}"
    reload_connections "#{ENV['FLUENT_ELASTICSEARCH_RELOAD_CONNECTIONS'] || 'true'}"
    logstash_prefix "#{ENV['FLUENT_ELASTICSEARCH_LOGSTASH_PREFIX'] || 'logstash'}"
    logstash_format true
    buffer_chunk_limit 2M
    buffer_queue_limit 32
    flush_interval 5s
    max_retry_wait 30
    disable_retry_limit
    num_threads 8
  </store>
</match>